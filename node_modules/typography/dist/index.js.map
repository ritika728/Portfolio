{"version":3,"file":"index.js","sources":["../src/utils/createStyles.js","../src/utils/compileStyles.js","../src/index.js"],"sourcesContent":["// @flow\nimport gray from \"gray-percentage\"\nimport set from \"lodash/set\"\nimport each from \"lodash/forEach\"\nimport isNumber from \"lodash/isNumber\"\nimport isString from \"lodash/isString\"\nimport isFunction from \"lodash/isFunction\"\nimport isArray from \"lodash/isArray\"\nimport merge from \"lodash/merge\"\nimport reduce from \"lodash/reduce\"\n\nimport type { OptionsType } from \"Types\"\n\nconst setStyles = (\n  styles: Object = {},\n  els: string | string[],\n  rules: Object\n) => {\n  let elements\n  if (!isArray(els)) {\n    elements = [els]\n  } else {\n    elements = els\n  }\n  each(elements, element => {\n    each(rules, (value, prop) => {\n      set(styles, `${element}.${prop}`, value)\n    })\n  })\n  return styles\n}\n\n// Wrap font names in quotes, unless the font name is actually a keyword.\n// See https://stackoverflow.com/a/13752149 and https://www.w3.org/TR/CSS2/fonts.html#font-family-prop\nconst genericFontFamilies = [\n  \"inherit\",\n  \"default\",\n  \"serif\",\n  \"sans-serif\",\n  \"monospace\",\n  \"fantasy\",\n  \"cursive\",\n  \"-apple-system\",\n]\nconst wrapFontFamily = fontFamily =>\n  genericFontFamilies.indexOf(fontFamily) !== -1 || fontFamily.startsWith('var(')\n    ? fontFamily\n    : `'${fontFamily}'`\n\nexport default (vr: any, options: OptionsType) => {\n  let styles = {}\n  const { fontSize, lineHeight } = vr.establishBaseline()\n\n  // Base HTML styles.\n  styles = setStyles(styles, \"html\", {\n    font: `${fontSize}/${lineHeight} ${options.bodyFontFamily\n      .map(wrapFontFamily)\n      .join(\",\")}`,\n    boxSizing: \"border-box\",\n    overflowY: \"scroll\",\n  })\n\n  // box-sizing reset.\n  styles = setStyles(styles, [\"*\", \"*:before\", \"*:after\"], {\n    boxSizing: \"inherit\",\n  })\n\n  // Base body styles.\n  styles = setStyles(styles, \"body\", {\n    color: options.bodyColor,\n    fontFamily: options.bodyFontFamily.map(wrapFontFamily).join(\",\"),\n    fontWeight: options.bodyWeight,\n    wordWrap: \"break-word\",\n    fontKerning: \"normal\",\n    MozFontFeatureSettings: '\"kern\", \"liga\", \"clig\", \"calt\"',\n    msFontFeatureSettings: '\"kern\", \"liga\", \"clig\", \"calt\"',\n    WebkitFontFeatureSettings: '\"kern\", \"liga\", \"clig\", \"calt\"',\n    fontFeatureSettings: '\"kern\", \"liga\", \"clig\", \"calt\"',\n  })\n\n  // Make images responsive.\n  styles = setStyles(styles, \"img\", {\n    maxWidth: \"100%\",\n  })\n\n  // All block elements get one rhythm of bottom margin by default\n  // or whatever is passed in as option.\n  let blockMarginBottom = \"\"\n  if (isNumber(options.blockMarginBottom)) {\n    blockMarginBottom = vr.rhythm(options.blockMarginBottom)\n  } else if (isString(options.blockMarginBottom)) {\n    blockMarginBottom = options.blockMarginBottom\n  } else {\n    blockMarginBottom = vr.rhythm(1)\n  }\n  styles = setStyles(\n    styles,\n    [\n      \"h1\",\n      \"h2\",\n      \"h3\",\n      \"h4\",\n      \"h5\",\n      \"h6\",\n      \"hgroup\",\n      \"ul\",\n      \"ol\",\n      \"dl\",\n      \"dd\",\n      \"p\",\n      \"figure\",\n      \"pre\",\n      \"table\",\n      \"fieldset\",\n      \"blockquote\",\n      \"form\",\n      \"noscript\",\n      \"iframe\",\n      \"img\",\n      \"hr\",\n      \"address\",\n    ],\n    {\n      // Reset margin/padding to 0.\n      marginLeft: 0,\n      marginRight: 0,\n      marginTop: 0,\n      paddingBottom: 0,\n      paddingLeft: 0,\n      paddingRight: 0,\n      paddingTop: 0,\n      marginBottom: blockMarginBottom,\n    }\n  )\n\n  // Basic blockquote styles.\n  styles = setStyles(styles, \"blockquote\", {\n    marginRight: vr.rhythm(1),\n    marginBottom: blockMarginBottom,\n    marginLeft: vr.rhythm(1),\n  })\n\n  // b, strong.\n  styles = setStyles(styles, [\"b\", \"strong\", \"dt\", \"th\"], {\n    fontWeight: options.boldWeight,\n  })\n\n  // hr.\n  styles = setStyles(styles, \"hr\", {\n    background: gray(80),\n    border: \"none\",\n    height: \"1px\",\n    marginBottom: `calc(${blockMarginBottom} - 1px)`,\n  })\n\n  // ol, ul.\n  styles = setStyles(styles, [\"ol\", \"ul\"], {\n    listStylePosition: \"outside\",\n    listStyleImage: \"none\",\n    marginLeft: vr.rhythm(1),\n  })\n\n  // li.\n  styles = setStyles(styles, \"li\", {\n    marginBottom: `calc(${blockMarginBottom} / 2)`,\n  })\n\n  // Remove default padding on list items.\n  styles = setStyles(styles, [\"ol li\", \"ul li\"], {\n    paddingLeft: 0,\n  })\n\n  // children ol, ul.\n  styles = setStyles(styles, [\"li > ol\", \"li > ul\"], {\n    marginLeft: vr.rhythm(1),\n    marginBottom: `calc(${blockMarginBottom} / 2)`,\n    marginTop: `calc(${blockMarginBottom} / 2)`,\n  })\n\n  // Remove margin-bottom on the last-child of a few block elements\n  // The worst offender of this seems to be markdown => html compilers\n  // as they put paragraphs within LIs amoung other oddities.\n  styles = setStyles(\n    styles,\n    [\"blockquote *:last-child\", \"li *:last-child\", \"p *:last-child\"],\n    {\n      marginBottom: 0,\n    }\n  )\n\n  // Ensure li > p is 1/2 margin â€” this is another markdown => compiler oddity.\n  styles = setStyles(styles, [\"li > p\"], {\n    marginBottom: `calc(${blockMarginBottom} / 2)`,\n  })\n\n  // Make generally smaller elements, smaller.\n  styles = setStyles(styles, [\"code\", \"kbd\", \"pre\", \"samp\"], {\n    ...vr.adjustFontSizeTo(\"85%\"),\n  })\n\n  // Abbr, Acronym.\n  styles = setStyles(styles, [\"abbr\", \"acronym\"], {\n    borderBottom: `1px dotted ${gray(50)}`,\n    cursor: \"help\",\n  })\n  styles[\"abbr[title]\"] = {\n    borderBottom: `1px dotted ${gray(50)}`,\n    cursor: \"help\",\n    textDecoration: \"none\",\n  }\n\n  // Table styles.\n  styles = setStyles(styles, [\"table\"], {\n    ...vr.adjustFontSizeTo(options.baseFontSize),\n    borderCollapse: \"collapse\",\n    width: \"100%\",\n  })\n  styles = setStyles(styles, [\"thead\"], {\n    textAlign: \"left\",\n  })\n  styles = setStyles(styles, [\"td,th\"], {\n    textAlign: \"left\",\n    borderBottom: `1px solid ${gray(88)}`,\n    fontFeatureSettings: '\"tnum\"',\n    MozFontFeatureSettings: '\"tnum\"',\n    msFontFeatureSettings: '\"tnum\"',\n    WebkitFontFeatureSettings: '\"tnum\"',\n    paddingLeft: vr.rhythm(2 / 3),\n    paddingRight: vr.rhythm(2 / 3),\n    paddingTop: vr.rhythm(1 / 2),\n    paddingBottom: `calc(${vr.rhythm(1 / 2)} - 1px)`,\n  })\n  styles = setStyles(styles, \"th:first-child,td:first-child\", {\n    paddingLeft: 0,\n  })\n  styles = setStyles(styles, \"th:last-child,td:last-child\", {\n    paddingRight: 0,\n  })\n\n  // Create styles for headers.\n  styles = setStyles(styles, [\"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"], {\n    color: options.headerColor,\n    fontFamily: options.headerFontFamily.map(wrapFontFamily).join(\",\"),\n    fontWeight: options.headerWeight,\n    textRendering: \"optimizeLegibility\",\n  })\n\n  // Set header sizes.\n  const h1 = vr.scale(5 / 5)\n  const h2 = vr.scale(3 / 5)\n  const h3 = vr.scale(2 / 5)\n  const h4 = vr.scale(0 / 5)\n  const h5 = vr.scale(-1 / 5)\n  const h6 = vr.scale(-1.5 / 5)\n\n  each([h1, h2, h3, h4, h5, h6], (header, i) => {\n    styles = set(styles, `h${i + 1}.fontSize`, header.fontSize)\n    styles = set(styles, `h${i + 1}.lineHeight`, options.headerLineHeight)\n  })\n\n  // TODO add support for Breakpoints here.\n\n  // Call plugins if any.\n  if (isArray(options.plugins)) {\n    styles = reduce(\n      options.plugins,\n      (stylesObj, plugin) => merge(stylesObj, plugin(vr, options, stylesObj)),\n      styles\n    )\n  }\n\n  // Call overrideStyles function on options (if set).\n  if (options.overrideStyles && isFunction(options.overrideStyles)) {\n    styles = merge(styles, options.overrideStyles(vr, options, styles))\n  }\n\n  // Call overrideThemeStyles function on options (if set).\n  if (options.overrideThemeStyles && isFunction(options.overrideThemeStyles)) {\n    styles = merge(styles, options.overrideThemeStyles(vr, options, styles))\n  }\n\n  return styles\n}\n","// @flow\nimport normalize from \"typography-normalize\"\nimport decamelize from \"decamelize\"\nimport each from \"lodash/forEach\"\nimport reduce from \"lodash/reduce\"\nimport isObject from \"lodash/isObject\"\n\nimport type { OptionsType } from \"Types\"\n\nconst compileStyles = styles =>\n  reduce(\n    styles,\n    (stylesStr, ruleSet, selector) => {\n      stylesStr += `${selector}{` // eslint-disable-line\n      each(ruleSet, (value, property) => {\n        if (isObject(value)) {\n          const newObject = {}\n          newObject[property] = value\n          stylesStr += compileStyles(newObject) // eslint-disable-line\n        } else {\n          let newStyle = `${decamelize(property, \"-\")}:${value};` // eslint-disable-line\n          // If the property is prefixed, add an additional dash at the beginning.\n          const prefixes = [\"Webkit\", \"ms\", \"Moz\", \"O\"]\n          prefixes.forEach(prefix => {\n            if (property.slice(0, prefix.length) === prefix) {\n              newStyle = `-${newStyle}`\n            }\n          })\n          stylesStr += newStyle\n        }\n      })\n      stylesStr += \"}\" // eslint-disable-line\n      return stylesStr\n    },\n    \"\"\n  )\n\nexport default (vr: any, options: OptionsType, styles: any) => {\n  // Compile styles to string.\n  let stylesStr = compileStyles(styles)\n\n  if (options.includeNormalize) {\n    stylesStr = `${normalize}${stylesStr}`\n  }\n\n  return stylesStr\n}\n","// @flow\nimport objectAssign from \"object-assign\"\nimport verticalRhythm from \"compass-vertical-rhythm\"\nimport ms from \"modularscale\"\n\nimport createStyles from \"./utils/createStyles\"\nimport compileStyles from \"./utils/compileStyles\"\nimport type { OptionsType } from \"Types\"\n\nconst typography = function (opts: OptionsType) {\n  const defaults: OptionsType = {\n    baseFontSize: \"16px\",\n    baseLineHeight: 1.45,\n    headerLineHeight: 1.1,\n    scaleRatio: 2,\n    googleFonts: [],\n    headerFontFamily: [\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      \"Segoe UI\",\n      \"Roboto\",\n      \"Oxygen\",\n      \"Ubuntu\",\n      \"Cantarell\",\n      \"Fira Sans\",\n      \"Droid Sans\",\n      \"Helvetica Neue\",\n      \"sans-serif\",\n    ],\n    bodyFontFamily: [\"georgia\", \"serif\"],\n    headerColor: \"inherit\",\n    bodyColor: \"hsla(0,0%,0%,0.8)\",\n    headerWeight: \"bold\",\n    bodyWeight: \"normal\",\n    boldWeight: \"bold\",\n    includeNormalize: true,\n    blockMarginBottom: 1,\n  }\n\n  const options = objectAssign({}, defaults, opts)\n\n  const vr = verticalRhythm(options)\n\n  // Add this function to the vertical rhythm object so it'll be passed around\n  // as well and be available. Not related really but this is the easiest\n  // way to pass around extra utility functions atm... :-\\\n  vr.scale = (value: number) => {\n    // This doesn't pick the right scale ratio if a theme has more than one ratio.\n    // Perhaps add optional parameter for a width and it'll get the ratio\n    // for this width. Tricky part is maxWidth could be set in non-pixels.\n    const baseFont = parseInt(options.baseFontSize, 10)\n    const newFontSize = `${ms(value, options.scaleRatio) * baseFont}px`\n    return vr.adjustFontSizeTo(newFontSize)\n  }\n\n  return {\n    options,\n    ...vr,\n    createStyles() {\n      return this.toString()\n    }, // TODO remove in next breaking release.\n    toJSON() {\n      return createStyles(vr, options)\n    },\n    toString() {\n      return compileStyles(vr, options, this.toJSON())\n    },\n    injectStyles() {\n      if (typeof document !== \"undefined\") {\n        // Replace existing\n        if (document.getElementById(\"typography.js\")) {\n          const styleNode = document.getElementById(\"typography.js\")\n          styleNode.innerHTML = this.toString()\n        } else {\n          const node = document.createElement(\"style\")\n          node.id = \"typography.js\"\n          node.innerHTML = this.toString()\n          const head = document.head\n          if (head.firstChild) {\n            head.insertBefore(node, head.firstChild)\n          } else {\n            head.appendChild(node)\n          }\n        }\n      }\n    },\n  }\n}\n\nexport default typography\n"],"names":["setStyles","styles","els","rules","elements","isArray","each","element","value","prop","set","genericFontFamilies","wrapFontFamily","fontFamily","indexOf","startsWith","reduce","stylesStr","ruleSet","selector","property","isObject","newObject","compileStyles","decamelize","forEach","prefix","slice","length","newStyle","compileStyles$1","vr","options","includeNormalize","normalize","opts","objectAssign","baseFontSize","baseLineHeight","headerLineHeight","scaleRatio","googleFonts","headerFontFamily","bodyFontFamily","headerColor","bodyColor","headerWeight","bodyWeight","boldWeight","blockMarginBottom","verticalRhythm","scale","baseFont","parseInt","ms","adjustFontSizeTo","newFontSize","_extends","createStyles","toString","toJSON","establishBaseline","font","_vr$establishBaseline","fontSize","lineHeight","map","join","boxSizing","overflowY","color","fontWeight","wordWrap","fontKerning","MozFontFeatureSettings","msFontFeatureSettings","WebkitFontFeatureSettings","fontFeatureSettings","maxWidth","isNumber","rhythm","isString","marginLeft","marginRight","marginTop","paddingBottom","paddingLeft","paddingRight","paddingTop","marginBottom","background","gray","border","height","listStylePosition","listStyleImage","borderBottom","cursor","textDecoration","borderCollapse","width","textAlign","textRendering","h1","h3","h5","h6","h2","h4","header","i","plugins","stylesObj","plugin","merge","overrideStyles","isFunction","overrideThemeStyles","this","injectStyles","document","getElementById","innerHTML","node","createElement","id","head","firstChild","insertBefore","appendChild"],"mappings":"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"}